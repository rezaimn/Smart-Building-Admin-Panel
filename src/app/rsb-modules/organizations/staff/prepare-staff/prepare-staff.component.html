
<div class="row">
    <div class="col-lg-12 department-box">
        <div class="wizard">
            <!-- Personnal info. / step 1 -->
            <div class="box-header">
                <h4 *ngIf="step === 1">
                    <span style="margin-left: 10px;margin-right: 10px">1</span>{{'OMS.personal-information'|translate}}
                </h4>
                <h4 *ngIf="step === 2">
                    <span  style="margin-left: 10px;margin-right: 10px">2</span>{{'OMS.employee-details'|translate}}
                </h4>
                <h4 *ngIf="step === 3">
                    <span  style="margin-left: 10px;margin-right: 10px">3</span>{{'OMS.assign-policies'|translate}}
                </h4>
                <h4 *ngIf="step === 4">
                    <span  style="margin-left: 10px;margin-right: 10px">4</span>{{'OMS.vehicle-details'|translate}}
                </h4>
                <div class="wizard-pager" *ngIf="message != 'edit'">
                    <ul>
                        <li [ngClass]="{'active': step === 1}">
                            <span>1</span>
                        </li>
                        <li [ngClass]="{'active': step === 2}">
                            <span>2</span>
                        </li>
                        <li [ngClass]="{'active': step === 3}">
                            <span>3</span>
                        </li>
                        <li [ngClass]="{'active': step === 4}">
                            <span>4</span>
                        </li>
                    </ul>
                </div>
                <div class="clearfix"></div>
            </div>
            <div *ngIf="step === 1">
                <!--<form class="" action="" name="preparePersonalInfoForm" (ngSubmit)="onSubmit()"-->
                      <!--#preparePersonalInfoForm="ngForm" method="post"-->
                      <!--autocomplete="off" novalidate="">-->
                    <div class="form-body custom-width">
                        <section class="prepare-staff-steps-containaer">
                            <div class="row">
                                <div class="col-lg-2 profile-pic-image form-group">
                                    <img src="../../../../../assets/images/Profile_Pic.png" alt="profile pic not found"
                                         width="150px" height="150px" class="img img-responsive department-box">
                                    <label for="staff-profile-picture">
                                        <div>{{'OMS.upload-profile-picture'|translate}}</div>
                                        <input type="file" class="staff-profile-picture" name="staff-profile-picture"
                                               id="staff-profile-picture" (change)="storeProfilePicture($event)"
                                               accept=".png,.jpg">
                                    </label>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 input1 filter-elements" style="float: left!important">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">FIRST NAME</label>
                                            <input placeholder="FIRST NAME" type="text" style="direction: ltr!important;font-family: tw-regular!important;"
                                                   name="firstName" #firstName="ngModel"
                                                   [(ngModel)]="personalInfo.firstNameMultiLingual.map.en"
                                                   required tabindex="1" minlength="3" maxlength="30"
                                            />
                                            <div class="error-message-display">
                                                <div [hidden]="firstName.valid || firstName.untouched">
                                                    <div *ngIf="firstName.errors && firstName.errors.required">
                                                        {{'validate-message.first-name-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="firstName.valid || firstName.untouched">
                                                    <div *ngIf="firstName.errors && firstName.errors.minlength && !firstName.errors.pattern">
                                                        {{'validate-message.min-length3'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 input1 form-group filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">LAST NAME</label>
                                            <input placeholder="LAST NAME" type="text" name="lastName" style="direction: ltr!important;font-family: tw-regular!important;"
                                                   #lastName="ngModel" [(ngModel)]="personalInfo.lastNameMultiLingual.map.en"
                                                   required tabindex="2" minlength="3" maxlength="30"
                                            />
                                            <div class="error-message-display">
                                                <div [hidden]="lastName.valid || lastName.untouched">
                                                    <div *ngIf="lastName.errors && lastName.errors.required">
                                                        {{'validate-message.last-name-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="lastName.valid || lastName.untouched">
                                                    <div *ngIf="lastName.errors && lastName.errors.minlength && !lastName.errors.pattern">
                                                        {{'validate-message.min-length3'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 input1 form-group filter-elements" style="float: left!important;">
                                            <label style="margin-bottom: 5px;font-family: Yekan!important;float: right">نام خانوادگی</label>
                                            <input style="font-family: Yekan!important;direction: rtl!important;" placeholder="نام خانوادگی" type="text" name="faLastName"
                                                   #faLastName="ngModel" [(ngModel)]="personalInfo.lastNameMultiLingual.map.fa"
                                                   required tabindex="4" minlength="3" maxlength="30"
                                            />
                                            <div class="error-message-display" style="font-family: Yekan!important;" >
                                                <div [hidden]="faLastName.valid || faLastName.untouched">
                                                    <div *ngIf="faLastName.errors && faLastName.errors.required">
                                                        درج نام خانوادگی ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display" style="font-family: Yekan!important;">
                                                <div [hidden]="faLastName.valid || faLastName.untouched">
                                                    <div *ngIf="faLastName.errors && faLastName.errors.minlength && !faLastName.errors.pattern">
                                                        درج حداقل ۳ کاراکتر ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 input1 filter-elements">
                                            <label style="margin-bottom: 5px;font-family: Yekan!important;float: right">نام</label>
                                            <input placeholder="نام" type="text" style="font-family: Yekan!important;direction: rtl!important;"
                                                   name="faFirstName" #faFirstName="ngModel"
                                                   [(ngModel)]="personalInfo.firstNameMultiLingual.map.fa"
                                                   required tabindex="3" minlength="3" maxlength="30"
                                            />
                                            <div class="error-message-display" style="font-family: Yekan!important;">
                                                <div [hidden]="faFirstName.valid || faFirstName.untouched">
                                                    <div *ngIf="faFirstName.errors && faFirstName.errors.required" >
                                                       درج نام ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display" style="font-family: Yekan!important;">
                                                <div [hidden]="faFirstName.valid || faFirstName.untouched">
                                                    <div *ngIf="faFirstName.errors && faFirstName.errors.minlength && !faFirstName.errors.pattern">
                                                        درج حداقل ۳ کاراکتر ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="col-lg-12  filter-elements">
                                    <div class="row">
                                        <div class="col-sm-6 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='gregorian'">
                                            <p><span class="staff-header">{{'OMS.birth-date' | translate}}</span></p>
                                            <div >
                                                <input (ngModelChange)="convertGregorianDateToUTCStaff(myStaffDate)" style="direction: ltr!important;font-family:tw-regular!important;top:-4px!important"
                                                       matInput name="pickedStaffDate" [(ngModel)]="pickedDateStaff" [matDatepicker]="myStaffDate" placeholder="{{staffDate}}"
                                                       required class="dob-field" readonly="true" >
                                                <mat-datepicker-toggle [for]="myStaffDate"></mat-datepicker-toggle>
                                                <mat-datepicker #myStaffDate [startAt]="pickedDateStaff"  ></mat-datepicker>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='jalali'" style="margin-top: 10px">
                                            <p><span class="staff-header">{{'OMS.birth-date' | translate}}</span></p>
                                            <div >
                                                <dp-date-picker   style="width: 100%;font-family: Yekan!important;height: 35px!important;font-size: 14px!important;"
                                                                  dir="rtl"
                                                                  [(ngModel)]="pickedDateStaff"
                                                                  mode="day"
                                                                  placeholder="تاریخ"
                                                                  theme="dp-material" (ngModelChange)="convertJalaliDateToUTCStaff(pickedDateStaff)" >
                                                </dp-date-picker>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 input1 form-group filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">FATHER NAME</label>
                                            <input style="direction: ltr!important;font-family: tw-regular!important;" placeholder="FATHER NAME" type="text"
                                                   name="fatherName" #fatherName="ngModel"
                                                   [(ngModel)]="personalInfo.fatherNameMultiLingual.map.en"
                                                   required tabindex="5" minlength="3" maxlength="30"
                                            />
                                            <div class="error-message-display">
                                                <div [hidden]="fatherName.valid || fatherName.untouched">
                                                    <div *ngIf="fatherName.errors && fatherName.errors.required">
                                                       FATHER NAME IS REQUIRED
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="fatherName.valid || fatherName.untouched">
                                                    <div *ngIf="fatherName.errors && fatherName.errors.minlength && !fatherName.errors.pattern">
                                                        MIN LENGTH IS 3
                                                    </div>
                                                </div>
                                            </div>
                                            <!--<div class="error-message-display">-->
                                            <!--<div [hidden]="fatherName.valid || fatherName.untouched">-->
                                            <!--<div *ngIf="fatherName.errors && fatherName.errors.pattern">-->
                                            <!--{{'validate-message.alphabet-pattern-required'|translate}}-->
                                            <!--</div>-->
                                            <!--</div>-->
                                            <!--</div>-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12  filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 input1 form-group filter-elements">

                                        </div>
                                        <div class="col-lg-6 input1 form-group filter-elements">
                                            <label style="margin-bottom: 5px;font-family: Yekan!important;float: right">نام پدر</label>
                                            <input style="font-family: Yekan!important;direction: rtl" placeholder="نام پدر" type="text"
                                                   name="faFatherName" #faFatherName="ngModel"
                                                   [(ngModel)]="personalInfo.fatherNameMultiLingual.map.fa"
                                                   required tabindex="6" minlength="3" maxlength="30"
                                            />
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faFatherName.valid || faFatherName.untouched">
                                                    <div *ngIf="faFatherName.errors && faFatherName.errors.required">
                                                      درج نام پدر ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faFatherName.valid || faFatherName.untouched">
                                                    <div *ngIf="faFatherName.errors && faFatherName.errors.minlength && !faFatherName.errors.pattern">
                                                        درج حداقل ۳ کاراکتر ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                            <!--<div class="error-message-display">-->
                                            <!--<div [hidden]="fatherName.valid || fatherName.untouched">-->
                                            <!--<div *ngIf="fatherName.errors && fatherName.errors.pattern">-->
                                            <!--{{'validate-message.alphabet-pattern-required'|translate}}-->
                                            <!--</div>-->
                                            <!--</div>-->
                                            <!--</div>-->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 form-group input1 filter-elements">
                                            <label>{{'OMS.national-id'|translate}}</label>
                                            <input style="direction: ltr!important;"
                                                   [placeholder]="'OMS.national-id'|translate" type="text"
                                                   name="nationalId" #nationalId="ngModel"
                                                   [(ngModel)]="personalInfo.nationalId"
                                                   required tabindex="7" minlength="10" maxlength="10"
                                                   pattern="[0-9 ]+"/>
                                            <div class="error-message-display">
                                                <div [hidden]="nationalId.valid || nationalId.untouched">
                                                    <div *ngIf="nationalId.errors && nationalId.errors.required">
                                                        {{'validate-message.national-id-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="nationalId.valid || nationalId.untouched">
                                                    <div *ngIf="nationalId.errors && nationalId.errors.minlength && !nationalId.errors.pattern">
                                                        {{'validate-message.min-length10'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="nationalId.valid || nationalId.untouched">
                                                    <div *ngIf="nationalId.errors && nationalId.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 form-group input1 filter-elements">
                                            <label>{{'OMS.social-security-id'|translate}}</label>
                                            <input style="direction: ltr!important;"
                                                   [placeholder]="'OMS.social-security-id'|translate" type="text"
                                                   name="ssn" #ssn="ngModel" [(ngModel)]="personalInfo.ssn"
                                                   required
                                                   tabindex="8" minlength="10" maxlength="10" pattern="[0-9 ]+"/>
                                            <div class="error-message-display">
                                                <div [hidden]="ssn.valid || ssn.untouched">
                                                    <div *ngIf="ssn.errors && ssn.errors.required">
                                                        {{'validate-message.social-security-id-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="ssn.valid || ssn.untouched">
                                                    <div *ngIf="ssn.errors && ssn.errors.minlength && !ssn.errors.pattern">
                                                        {{'validate-message.min-length10'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="error-message-display">
                                                <div [hidden]="ssn.valid || ssn.untouched">
                                                    <div *ngIf="ssn.errors && ssn.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 form-group input1 filter-elements">
                                            <label>{{'OMS.phone'|translate}}</label>
                                            <input style="direction: ltr!important;"
                                                   [placeholder]="'OMS.phone'|translate" type="text" name="mobileNum"
                                                   #mobileNum="ngModel" [(ngModel)]="personalInfo.mobileNum"
                                                   required tabindex="9" minlength="10" maxlength="15"
                                                 />
                                            <div class="error-message-display">
                                                <div [hidden]="mobileNum.valid || mobileNum.untouched">
                                                    <div *ngIf="mobileNum.errors && mobileNum.errors.required">
                                                        {{'validate-message.phone-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                            <!--<div class="error-message-display">-->
                                                <!--<div [hidden]="mobileNum.valid || mobileNum.untouched">-->
                                                    <!--<div *ngIf="mobileNum.errors && mobileNum.errors.minlength && !mobileNum.errors.pattern">-->
                                                        <!--{{'validate-message.phone-pattern-required'|translate}}-->
                                                    <!--</div>-->
                                                <!--</div>-->
                                            <!--</div>-->
                                            <div class="error-message-display">
                                                <div [hidden]="mobileNum.valid || mobileNum.untouched">
                                                    <div *ngIf="mobileNum.errors && !mobileNum.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 form-group input1 filter-elements">
                                            <label>{{'OMS.email'|translate}}</label>
                                            <input style="direction: ltr!important;" type="email" name="email"
                                                   [placeholder]="'OMS.email'|translate"
                                                   #email="ngModel" [(ngModel)]="personalInfo.email" required
                                                   maxlength="30"
                                                   pattern="^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$"
                                                   tabindex="10"/>

                                            <div class="error-message-display">
                                                <div [hidden]="email.valid || email.untouched">
                                                    <div *ngIf="email.errors && email.errors.required">
                                                        {{'validate-message.email-required'|translate}}
                                                    </div>
                                                </div>
                                                <div [hidden]="email.valid || email.untouched">
                                                    <div *ngIf="email.errors && email.errors.pattern">
                                                        {{'validate-message.email-pattern-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-10 form-group input1 filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">RESIDENCY ADDRESS</label>
                                            <textarea placeholder="RESIDENCY ADDRESS" style="direction: ltr!important;font-family: tw-regular!important;"
                                                      name="resAddress" #resAddress="ngModel"
                                                      [(ngModel)]="personalInfo.resAddressMultiLingual.map.en"
                                                      required minlength="6" maxlength="250"
                                                      tabindex="11"></textarea>
                                            <div class="error-message-display">
                                                <div [hidden]="resAddress.valid || resAddress.untouched">
                                                    <div *ngIf="resAddress.errors && resAddress.errors.required"
                                                         >
                                                      RESIDENCY ADDRESS IS REQUIRED
                                                    </div>
                                                </div>
                                                <div [hidden]="resAddress.valid || resAddress.untouched">
                                                    <div *ngIf="resAddress.errors && resAddress.errors.minlength"
                                                         >
                                                        MIN LENGTH IS 6
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 form-group custom-zip-code input1 filter-elements">
                                            <label>{{'OMS.zip-code'|translate}}</label>
                                            <input style="direction: ltr!important;" type="text" name="residenseZipcode"
                                                   [placeholder]="'OMS.zip-code'|translate" #residenseZipcode="ngModel"
                                                   [(ngModel)]="personalInfo.resAddressZipcode"
                                                   required minlength="10" maxlength="10" pattern="[0-9]+"
                                                   tabindex="12"/>
                                            <div class="error-message-display">
                                                <div [hidden]="residenseZipcode.valid || residenseZipcode.untouched">
                                                    <div *ngIf="residenseZipcode.errors && residenseZipcode.errors.required">
                                                        {{'validate-message.zip-code-required'|translate}}
                                                    </div>
                                                    <div *ngIf="residenseZipcode.errors && residenseZipcode.errors.minlength && !residenseZipcode.errors.pattern">
                                                        {{'validate-message.min-length10'|translate}}
                                                    </div>
                                                    <div *ngIf="residenseZipcode.errors && residenseZipcode.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-10 form-group input1 filter-elements">
                                            <label style="font-family: Yekan!important;float: right">آدرس محل اقامت</label>
                                            <textarea placeholder="آدرس محل اقامت" style="direction: rtl!important;font-family: Yekan!important;"
                                                      name="resAddress" #resAddress="ngModel"
                                                      [(ngModel)]="personalInfo.resAddressMultiLingual.map.fa"
                                                      require minlength="6" maxlength="250"
                                                      tabindex="13"></textarea>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="resAddress.valid || resAddress.untouched">
                                                    <div *ngIf="resAddress.errors && resAddress.errors.required"
                                                    >
                                                       درج آدرس محل اقامت ضروری است
                                                    </div>
                                                </div>
                                                <div [hidden]="resAddress.valid || resAddress.untouched">
                                                    <div *ngIf="resAddress.errors && resAddress.errors.minlength"
                                                    >
                                                        درج حداقل 6 کاراکتر ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 form-group custom-zip-code input1 filter-elements">

                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 form-group input1 filter-elements">
                                            <label>{{'OMS.residency-phone'|translate}}</label>
                                            <input style="direction: ltr!important;"
                                                   [placeholder]="'OMS.residency-phone'|translate" type="text"
                                                   name="resPhoneNum" #resPhoneNum="ngModel"
                                                   [(ngModel)]="personalInfo.resPhoneNum"
                                                   pattern="^[0-9]+$" minlength="10" maxlength="10" tabindex="14">
                                            <div class="error-message-display">
                                                <div [hidden]="resPhoneNum.valid || resPhoneNum.untouched">
                                                    <div *ngIf="resPhoneNum.errors && resPhoneNum.errors.required">
                                                        {{'validate-message.phone-required'|translate}}
                                                    </div>
                                                </div>
                                                <div *ngIf="resPhoneNum.errors && resPhoneNum.errors.minlength && !resPhoneNum.errors.pattern">
                                                    {{'validate-message.min-length10'|translate}}
                                                </div>
                                                <div [hidden]="resPhoneNum.valid || resPhoneNum.untouched">
                                                    <div *ngIf="resPhoneNum.errors && resPhoneNum.errors.pattern">
                                                        {{'validate-message.phone-pattern-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-10 form-group input1 filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">PERMANENT ADDRESS</label>
                                            <textarea placeholder="PERMANENT ADDRESS" style="direction: ltr!important;font-family: tw-regular!important;"
                                                      name="permAddress"  #permAddress="ngModel"
                                                      [(ngModel)]="personalInfo.permAddressMultiLingual.map.en"
                                                      required minlength="6" maxlength="250"
                                                      tabindex="15"></textarea>
                                            <div class="error-message-display">
                                                <div [hidden]="permAddress.valid || permAddress.untouched">
                                                    <div *ngIf="permAddress.errors && permAddress.errors.required"
                                                         >
                                                        PERMANENT ADDRESS IS REQUIRED
                                                    </div>
                                                </div>
                                                <div [hidden]="permAddress.valid || permAddress.untouched">
                                                    <div *ngIf="permAddress.errors && permAddress.errors.minlength"
                                                         >
                                                        MIN LENGTH IS 6
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 form-group custom-zip-code input1 filter-elements">
                                            <label>{{'OMS.zip-code'|translate}}</label>
                                            <input style="direction: ltr!important;" type="text"
                                                   name="permAddressZipcode"
                                                   [placeholder]="'OMS.zip-code'|translate"
                                                   #permAddressZipcode="ngModel"
                                                   [(ngModel)]="personalInfo.permAddressZipcode"
                                                   required minlength="10" maxlength="10" pattern="[0-9]+"
                                                   tabindex="16"/>
                                            <div class="error-message-display">
                                                <div [hidden]="permAddressZipcode.valid || permAddressZipcode.untouched">
                                                    <div *ngIf="permAddressZipcode.errors && permAddressZipcode.errors.required">
                                                        {{'validate-message.zip-code-required'|translate}}
                                                    </div>
                                                    <div *ngIf="permAddressZipcode.errors && permAddressZipcode.errors.minlength && !permAddressZipcode.errors.pattern">
                                                        {{'validate-message.min-length10'|translate}}
                                                    </div>
                                                    <div *ngIf="permAddressZipcode.errors && permAddressZipcode.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-10 form-group input1 filter-elements">
                                            <label style="font-family: Yekan!important;float: right">آدرس دائم</label>
                                            <textarea placeholder="آدرس دائم" style="font-family: Yekan!important;direction: rtl!important;"
                                                      name="faPermAddress" id="" #faPermAddress="ngModel"
                                                      [(ngModel)]="personalInfo.permAddressMultiLingual.map.fa"
                                                      required minlength="6" maxlength="250"
                                                      tabindex="17"></textarea>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faPermAddress.valid || faPermAddress.untouched">
                                                    <div *ngIf="faPermAddress.errors && faPermAddress.errors.required"
                                                    >
                                                       درج آدرس دایم ضروری است
                                                    </div>
                                                </div>
                                                <div [hidden]="faPermAddress.valid || faPermAddress.untouched">
                                                    <div *ngIf="faPermAddress.errors && faPermAddress.errors.minlength"
                                                    >
                                                        درج حداقل 6 کاراکتر ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 form-group custom-zip-code input1 filter-elements">

                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 input1 filter-elements">
                                    <div class="row">
                                        <div class="col-lg-6 form-group input1 filter-elements">
                                            <label>{{'OMS.permanent-phone'|translate}}</label>
                                            <input style="direction: ltr!important;"
                                                   [placeholder]="'OMS.permanent-phone'|translate" type="text"
                                                   name="permPhoneNum" #permPhoneNum="ngModel"
                                                   [(ngModel)]="personalInfo.permPhoneNum"
                                                   pattern="^[0-9]+$" minlength="10" maxlength="10" tabindex="18">
                                            <div class="error-message-display">
                                                <div [hidden]="permPhoneNum.valid || permPhoneNum.untouched">
                                                    <div *ngIf="permPhoneNum.errors && permPhoneNum.errors.required">
                                                        {{'validate-message.phone-required'|translate}}
                                                    </div>
                                                </div>
                                                <div *ngIf="permPhoneNum.errors && permPhoneNum.errors.minlength && !permPhoneNum.errors.pattern">
                                                    {{'validate-message.min-length10'|translate}}
                                                </div>
                                                <div [hidden]="permPhoneNum.valid || permPhoneNum.untouched">
                                                    <div *ngIf="permPhoneNum.errors && permPhoneNum.errors.pattern">
                                                        {{'validate-message.phone-pattern-required'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </section>
                        <!--End of personal information   -->
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-footer col-lg-12">
                        <!-- <div class="col-lg-10 cl-m">
                        </div> -->
                        <div class="col-lg-offset-10 col-md-offset-9 col-lg-2 btns-div">
                            <button  *ngIf="message != 'edit'" class="form-next-button execute-btn exe-sm exe-block"
                                    type="button" (click)="goToPage('next')"
                            >{{'OMS.next'|translate}}
                            </button>
                            <button *ngIf="message == 'edit' && appService.hasAccessToWrite(1,3)" class="form-next-button execute-btn exe-sm exe-block"
                                    type="button" (click)="updateStepOne(personalInfo)"
                            >{{'shared.execute'|translate}}
                            </button>
                            <button class="form-button-cancel execute-btn exe-sm exe-block" type="button"
                                    (click)="closeModal()">{{'shared.cancel'|translate}}
                            </button>
                        </div>

                        <div class="clearfix"></div>
                    </div>

            </div>
            <!-- Step 2 -->
            <div *ngIf="step === 2">

                    <div class="form-body custom-width">
                        <!-- Employment details / step 2 -->
                        <section>
                            <div class="col-lg-12 input1 filter-elements">
                                <div class="row">
                                    <div class="col-lg-6 form-group input1 filter-elements">
                                        <label>{{'OMS.employee-id'|translate}} </label>
                                        <input style="direction: ltr!important;font-family: tw-regular!important;"
                                               [placeholder]="'OMS.employee-id'|translate" type="text" name="employeeId"
                                               #employeeId="ngModel" [(ngModel)]="employementDetails.employeeId"
                                               required tabindex="1" minlength="6" maxlength="10"
                                               pattern="^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$"
                                        />
                                        <!-- (blur)="checkEmpIdValid(employementDetails.employeeId)" -->
                                        <!-- pattern="^[A-Za-z]+\d+$" -->
                                        <div class="error-message-display">
                                            <div [hidden]="employeeId.valid || employeeId.untouched">
                                                <div *ngIf="employeeId.errors && employeeId.errors.required ">
                                                    {{'validate-message.employee-id-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="error-message-display">
                                            <div [hidden]="employeeId.valid || employeeId.untouched">
                                                <div *ngIf="employeeId.errors && employeeId.errors.minlength && !employeeId.errors.pattern">
                                                    {{'validate-message.min-length6'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="error-message-display">
                                            <div [hidden]="employeeId.valid || employeeId.untouched">
                                                <div *ngIf="employeeId.errors && employeeId.errors.pattern">
                                                    {{'validate-message.employee-id-pattern-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="error-message-display">
                                          <div [hidden]="!invalidEmpid">
                                            <div *ngIf="invalidEmpid">
                                              employee id is not valid
                                            </div>
                                          </div>
                                        </div> -->
                                    </div>
                                    <div class="col-sm-6 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='gregorian'">
                                        <p><span class="staff-header">{{'OMS.joining-date' | translate}}</span></p>
                                        <div >
                                            <input (ngModelChange)="convertGregorianDateToUTCHire(myHireDate)" style="direction: ltr!important;font-family:tw-regular!important;margin-top: -4px" matInput name="pickedHireDate" [(ngModel)]="pickedHireDate" [matDatepicker]="myHireDate" placeholder="{{hireDate}}"
                                                   required class="dob-field" readonly="true" >
                                            <mat-datepicker-toggle [for]="myHireDate"></mat-datepicker-toggle>
                                            <mat-datepicker #myHireDate [startAt]="pickedHireDate"  ></mat-datepicker>
                                        </div>
                                    </div>
                                    <div class="col-sm-6 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='jalali'" style="margin-top: 10px">
                                        <p><span class="staff-header">{{'OMS.joining-date' | translate}}</span></p>
                                        <div >
                                            <dp-date-picker   style="width: 100%;font-family: Yekan!important;height: 35px!important;font-size: 14px!important;"
                                                              dir="rtl"
                                                              [(ngModel)]="pickedHireDate"
                                                              mode="day"
                                                              placeholder="تاریخ"
                                                              theme="dp-material" (ngModelChange)="convertJalaliDateToUTCHire(pickedHireDate)" >
                                            </dp-date-picker>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12 filter-elements">
                                <div class="row">
                                    <div class="col-lg-6 form-group filter-elements">
                                        <label>{{'OMS.line-supervisor-id'|translate}}</label>
                                        <select tabindex="3" name="superviserId" #superviserId="ngModel" [style.font-family]="appService.currentLang=='fa'?'Yekan':'tw-regular'"
                                                [(ngModel)]="employementDetails.lineSupervisorId"
                                                aria-placeholder="select line supervisor id">
                                            <option value="0" >{{'SELECT.select-a-line-supervisor' | translate}}</option>
                                            <option *ngFor="let staff of staffs;" [ngValue]="staff.id">
                                                <p *ngIf="appService.currentLang=='en'">{{staff.firstNameMultiLingual.map.en}} {{ staff.lastNameMultiLingual.map.en }}</p>
                                                <p *ngIf="appService.currentLang=='fa'">{{staff.firstNameMultiLingual.map.fa}} {{ staff.lastNameMultiLingual.map.fa }}</p>
                                            </option>
                                        </select>
                                        <div class="error-message-display">
                                            <div [hidden]="superviserId.valid || superviserId.untouched">
                                                <div *ngIf="superviserId.errors && superviserId.errors.required">
                                                    {{'validate-message.line-supervisor-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 form-group filter-elements">
                                        <label>{{'OMS.line-manager-id'|translate}}</label>
                                        <select tabindex="4" name="managerId" #managerId="ngModel" [style.font-family]="appService.currentLang=='fa'?'Yekan':'tw-regular'"
                                                [(ngModel)]="employementDetails.lineMgrId"
                                                aria-placeholder="select line manager">
                                            <option value="0" >{{'SELECT.select-a-line-manager' | translate}}</option>
                                            <option *ngFor="let staff of staffs;" [ngValue]="staff.id">
                                                <p *ngIf="appService.currentLang=='en'">{{staff.firstNameMultiLingual.map.en}} {{ staff.lastNameMultiLingual.map.en }}</p>
                                                <p *ngIf="appService.currentLang=='fa'">{{staff.firstNameMultiLingual.map.fa}} {{ staff.lastNameMultiLingual.map.fa }}</p>
                                            </option>
                                        </select>
                                        <div class="error-message-display">
                                            <div [hidden]="managerId.valid || managerId.untouched">
                                                <div *ngIf="managerId.errors && managerId.errors.required">
                                                    {{'validate-message.line-manager-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 input1 filter-elements">
                                <div class="row">
                                    <div class="col-lg-6 form-group input1 filter-elements">
                                        <label>{{'OMS.basic-salary'|translate}}</label>

                                        <input class="salary-field" type="text" name="basicSalary"
                                               #basicSalary="ngModel" [(ngModel)]="employementDetails.basicSal"
                                               required tabindex="5" minlength="7" maxlength="10"
                                               pattern="[0-9]+"
                                               style="padding-right: 35px;font-family:tw-regular!important;direction: ltr!important;"
                                        />
                                        <!-- <span class="amount-icon">irr</span> -->
                                        <div class="error-message-display" style="right: 0 !important;">
                                            <div [hidden]="basicSalary.valid || basicSalary.untouched">
                                                <div *ngIf="basicSalary.errors && basicSalary.errors.required">
                                                    {{'validate-message.salary-required'|translate}}
                                                </div>
                                                <div *ngIf="basicSalary.errors && basicSalary.errors.minlength && !basicSalary.errors.pattern">
                                                    {{'validate-message.min-length7'|translate}}
                                                </div>
                                                <div *ngIf="basicSalary.errors && basicSalary.errors.pattern">
                                                    {{'validate-message.only-digits-allowed'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 form-group input1 filter-elements">
                                        <span class="salary-title"> {{'OMS.irr-monthly'|translate}}</span>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <!-- End of employement details -->
                    </div>
                    <div class="form-footer col-lg-12 input1 filter-elements">
                        <div class="col-lg-offset-10 col-lg-2 btns-div">
                            <button *ngIf="message != 'edit'" class="form-next-button execute-btn exe-sm exe-block"
                                    type="submit" (click)="goToPage('next')"
                        >{{'OMS.next'|translate}}
                            </button>
                            <button *ngIf="message != 'edit'" class="form-back-button execute-btn exe-sm exe-block"
                                    type="button" [hidden]="step === 1"
                                    (click)="goToPage('back')">{{'OMS.back'|translate}}
                            </button>
                            <button *ngIf="message == 'edit'" class="form-next-button execute-btn exe-sm exe-block"
                                    type="button" (click)="updateStepTwo(employementDetails)"
                            >{{'shared.execute'|translate}}
                            </button>
                            <button class="form-button-cancel execute-btn exe-sm exe-block" type="button"
                                    (click)="closeModal()">{{'shared.cancel'|translate}}
                            </button>
                        </div>
                    </div>

                <div class="clear"></div>
            </div>
            <!-- Step 2 -->
            <!-- step 3 -->
            <div *ngIf="step === 3">
                <form class="" action="" (ngSubmit)="onSubmit()" #assignPolicyForm="ngForm" method="post"
                      autocomplete="off">
                    <div class="form-body">
                        <!-- assign policies / step 3 -->
                        <section>

                            <div class="col-lg-12 ">
                                <div class="row form-group">
                                    <div class="col-lg-6 filter-elements form-group">
                                        <label>{{'OMS.department'|translate}}</label>
                                        <select  name="selectedDepartment" #selectedDepartment="ngModel"  [style.font-family]="appService.currentLang=='fa'?'Yekan':'tw-regular'"
                                                 [(ngModel)]="policyDetails.departmentId"
                                                aria-placeholder="select department"
                                                required (ngModelChange)="updateSubDepartments($event)">
                                            <option value="" selected >{{'OMS.department'|translate}}</option>
                                            <option *ngFor="let department of departments;" [ngValue]="department.id">
                                                <p *ngIf="appService.currentLang=='en'">{{department.deptnameMultiLingual.map.en}}</p>
                                                <p *ngIf="appService.currentLang=='fa'" style="direction: rtl">{{department.deptnameMultiLingual.map.fa}}</p>
                                            </option>
                                        </select>
                                        <div class="error-message-display" >
                                            <div [hidden]="selectedDepartment.valid || selectedDepartment.untouched">
                                                <div *ngIf="selectedDepartment.errors && selectedDepartment.errors.required">
                                                    {{'validate-message.department-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 form-group filter-elements">
                                        <label>{{'OMS.sub-department'|translate}}</label>
                                        <select name="selectedSubDepartment" #selectedSubDepartment="ngModel"  [style.font-family]="appService.currentLang=='fa'?'Yekan':'tw-regular'"
                                                [(ngModel)]="policyDetails.subDepartmentId"
                                                aria-placeholder="select sub department"
                                                (ngModelChange)="updateDegisnations($event)" required>
                                            <option value="" selected>{{'OMS.sub-department'|translate}}</option>
                                            <option *ngFor="let department of subdepartments;"
                                                    [ngValue]="department.id">
                                                <p *ngIf="appService.currentLang=='en'">{{department.deptnameMultiLingual.map.en}}</p>
                                                <p *ngIf="appService.currentLang=='fa'" style="direction: rtl">{{department.deptnameMultiLingual.map.fa}}</p>
                                            </option>
                                        </select>

                                        <div class="error-message-display" >
                                            <div [hidden]="selectedSubDepartment.valid || selectedSubDepartment.untouched">
                                                <div *ngIf="selectedSubDepartment.errors && selectedSubDepartment.errors.required">
                                                    {{'validate-message.sub-department-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 ">
                                <div class="row form-group">
                                    <div class="col-lg-6 form-group filter-elements">
                                        <label>{{'OMS.designation'|translate}}</label>
                                        <select name="selectedDesignation" #selectedDesignation="ngModel"
                                                [(ngModel)]="policyDetails.designationId"
                                                aria-placeholder="select designation"
                                                required (ngModelChange)="updatePolicies($event)">
                                            <option value="" selected>Select a designation</option>
                                            <option *ngFor="let designation of designations;"
                                                    [ngValue]="designation.id">{{designation.name}}
                                            </option>
                                        </select>
                                        <div class="error-message-display">
                                            <div [hidden]="selectedDesignation.valid || selectedDesignation.untouched">
                                                <div *ngIf="selectedDesignation.errors && selectedDesignation.errors.required">
                                                    {{'validate-message.designation-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 form-group filter-elements">
                                        <label>{{'OMS.grade'|translate}}</label>
                                        <select name="selectedGrade" #selectedGrade="ngModel"
                                                [(ngModel)]="policyDetails.gradeId" aria-placeholder="select grade"
                                                required (ngModelChange)="showAllowancePolicy($event)">
                                            <option value="" selected >Select a grade</option>
                                            <option *ngFor="let grade of grades;" [ngValue]="grade.id">
                                                {{grade.gradeName}}
                                            </option>
                                        </select>
                                        <div class="error-message-display">
                                            <div [hidden]="selectedGrade.valid || selectedGrade.untouched">
                                                <div *ngIf="selectedGrade.errors && selectedGrade.errors.required">
                                                    {{'validate-message.grade-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 ">
                                <div class="row form-group">

                                    <div class="col-lg-12 no-padding-left pt-30" *ngIf="allowanceSelected">
                                        <!-- <label>enter allowance</label>
                                          <input name="" id="" placeholder="enter allowance" readonly /> -->
                                        <div class="col-lg-3 no-padding-right form-group">
                                            <p class="sub-headers">{{'OMS.parking-amount'|translate}}
                                                <span>{{ selectedAllowance.parkingAmount }} {{'OMS.irr'|translate}}</span>
                                            </p>
                                        </div>
                                        <div class="col-lg-3 no-padding-right form-group">
                                            <p class="sub-headers">{{'OMS.parking-period'|translate}}
                                                <span>{{ selectedAllowance.parkingPeriod }}{{'OMS.days'|translate}} </span>
                                            </p>
                                        </div>
                                        <div class="col-lg-3 no-padding-right form-group">
                                            <p class="sub-headers">{{'OMS.meals-amount'|translate}}
                                                <span>{{ selectedAllowance.mealsAmount }}{{'OMS.irr'|translate}}</span>
                                            </p>
                                        </div>
                                        <div class="col-lg-3 no-padding-right form-group">
                                            <p class="sub-headers">{{'OMS.meals-period'|translate}}
                                                <span>{{ selectedAllowance.mealsPeriod }}{{'OMS.days'|translate}}  </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 ">
                                <div class="row form-group">

                                    <div class="col-lg-6 form-group filter-elements">
                                        <label>{{'OMS.work-time'|translate}}</label>
                                        <select name="selectedWorkTime" #selectedWorkTime="ngModel"
                                                [(ngModel)]="policyDetails.worktimePolicyGroupId"
                                                aria-placeholder="select work time"
                                                required (ngModelChange)="showWorkTimePolicy($event)">
                                            <option value="" selected >Select work time</option>
                                            <option *ngFor="let policy of workTimePolicies;" [ngValue]="policy.id">
                                                {{policy.workTimePolicy.policyName}}
                                            </option>
                                        </select>
                                        <div class="error-message-display">
                                            <div [hidden]="selectedWorkTime.valid || selectedWorkTime.untouched">
                                                <div *ngIf="selectedWorkTime.errors && selectedWorkTime.errors.required">
                                                    {{'validate-message.work-time-required'|translate}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12">
                                <div class="row form-group">

                                    <div class="col-lg-12 no-padding-left pt-15 meal-work-form" *ngIf="workTimeSelected">
                                        <div class="row form-group">
                                            <div class="col-md-6 form-group">
                                                <div class="col-lg-12">
                                                    <p class="sub-headers">{{'OMS.work'|translate}}</p>
                                                </div>
                                                <div class="col-lg-4 form-group">
                                                    <p class="sub-headers">{{'OMS.start-time'|translate}}
                                                        <span>{{ selectedWorkTimePolicy.workTimePolicy.workStartTime }}</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 form-group">
                                                    <p class="sub-headers">{{'OMS.end-time'|translate}}
                                                        <span>{{ selectedWorkTimePolicy.workTimePolicy.workEndTime }}</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 form-group">
                                                    <p class="sub-headers">{{'OMS.duration'|translate}}
                                                        <br>
                                                        <span>{{ selectedWorkTimePolicy.workTimePolicy.workDuration }}{{'OMS.hours'|translate}}</span>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="col-md-6 form-group">
                                                <div class="col-lg-12">
                                                    <p class="sub-headers">{{'OMS.meal'|translate}}</p>
                                                </div>
                                                <div class="col-lg-4 form-group">
                                                    <p class="sub-headers">{{'OMS.start-time'|translate}}
                                                        <span>{{ selectedWorkTimePolicy.workTimePolicy.mealStartTime }}</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 form-group">
                                                    <p class="sub-headers">{{'OMS.end-time'|translate}}
                                                        <span>{{ selectedWorkTimePolicy.workTimePolicy.mealEndTime }}</span>
                                                    </p>
                                                </div>
                                                <div class="col-lg-4 form-group">
                                                    <p class="sub-headers">{{'OMS.duration'|translate}}
                                                        <br>
                                                        <span>{{ selectedWorkTimePolicy.workTimePolicy.mealDuration }}{{'OMS.hours'|translate}}</span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <!-- End of step 3 -->
                    </div>
                    <div class="form-footer col-lg-12 extra-padding">
                        <div class="col-lg-offset-10 col-lg-2 btns-div">
                            <button *ngIf="message != 'edit'" class="form-next-button execute-btn exe-sm exe-block"
                                    type="button" (click)="goToPage('next')"
                                    [disabled]="!assignPolicyForm.form.valid || policyDetails.departmentId == 0 || policyDetails.subDepartmentId == 0 || policyDetails.designationId == 0 || policyDetails.gradeId == 0 || policyDetails.worktimePolicyGroupId == 0">
                                {{'OMS.next'|translate}}
                            </button>
                            <button *ngIf="message != 'edit'" class="form-back-button execute-btn exe-sm exe-block"
                                    type="button" [hidden]="step === 1"
                                    (click)="goToPage('back')">{{'OMS.back'|translate}}
                            </button>
                            <button *ngIf="message == 'edit' && appService.hasAccessToWrite(1,3)" class="form-next-button execute-btn exe-sm exe-block"
                                    type="button" (click)="updateStepThree(policyDetails)"
                            >{{'shared.execute'|translate}}
                            </button>
                            <button class="form-button-cancel execute-btn exe-sm exe-block" type="button"
                                    (click)="closeModal()">{{'shared.cancel'|translate}}
                            </button>
                        </div>

                    </div>
                </form>
            </div>
            <!-- step 3 -->
            <div *ngIf="step === 4">
                <section>

                        <div class="form-body">
                            <div class="row">
                                <div class="col-lg-2 no-padding">
                                    <div class="vehicle-heading">{{'OMS.car-one'|translate}}</div>
                                </div>
                                <div class="col-lg-9 no-padding" *ngIf="!carOnePresent">
                                    <i (click)="addVehicle(1)" class="add-vehicle glyphicon glyphicon-plus-sign"></i>
                                </div>
                                <div class="col-lg-9 vehicle-box" *ngIf="carOnePresent">
                                    <div class="row form-group">
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label>{{'OMS.register-no'|translate}}</label>
                                            <input class="" [placeholder]="'OMS.register-no'|translate" type="text"
                                                   name="carOneRegn" #carOneRegn="ngModel" [(ngModel)]="carOne.regn"
                                                   required tabindex="1" minlength="8" maxlength="8"
                                                   pattern="[0-9]{2}[a-zA-Z][0-9]+"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carOneRegn.valid || carOneRegn.untouched">
                                                    <div *ngIf="carOneRegn.errors && carOneRegn.errors.required">
                                                        {{'validate-message.register-no-required'|translate}}
                                                    </div>
                                                    <div *ngIf="carOneRegn.errors && carOneRegn.errors.minlength && !carOneRegn.errors.pattern">
                                                        {{'validate-message.min-length8'|translate}}
                                                    </div>
                                                    <div *ngIf="carOneRegn.errors && carOneRegn.errors.pattern">
                                                        {{'validate-message.register-no-pattern'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">BRAND</label>
                                            <input class="" placeholder="BRAND" type="text" required style="direction: ltr!important;font-family: tw-regular!important;"
                                                   name="carOneBrand" #carOneBrand="ngModel" [(ngModel)]="carOne.brandMultiLingual.map.en"
                                                   tabindex="2" maxlength="30"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carOneBrand.valid || carOneBrand.untouched">
                                                    <div *ngIf="carOneBrand.errors && carOneBrand.errors.required">
                                                       BRAND IS REQUIRED
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">COLOR</label>
                                            <input class="" placeholder="COLOR" type="text" required style="direction: ltr!important;font-family: tw-regular!important;"
                                                   name="carOneColor" #carOneColor="ngModel" [(ngModel)]="carOne.colorMultiLingual.map.en"
                                                   tabindex="3" maxlength="20"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carOneColor.valid || carOneColor.untouched">
                                                    <div *ngIf="carOneColor.errors && carOneColor.errors.required">
                                                       COLOR IS REQUIRED
                                                    </div>
                                                    <!--<div *ngIf="carOneColor.errors && carOneColor.errors.pattern">-->
                                                    <!--{{'validate-message.alphabet-pattern-required'|translate}}-->
                                                    <!--</div>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-lg-4 form-group filter-elements">

                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="font-family: Yekan!important;float: right">نوع خودرو</label>
                                            <input style="font-family: Yekan!important;direction: rtl" class="" placeholder="نوع خودرو" type="text" required
                                                   name="faCarOneBrand" #faCarOneBrand="ngModel" [(ngModel)]="carOne.brandMultiLingual.map.fa"
                                                   tabindex="2" maxlength="30"/>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faCarOneBrand.valid || faCarOneBrand.untouched">
                                                    <div *ngIf="faCarOneBrand.errors && faCarOneBrand.errors.required">
                                                       درج نوع خودرو ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="font-family: Yekan!important;float: right">رنگ خودرو</label>
                                            <input style="font-family: Yekan!important;direction: rtl" class="" placeholder="رنگ خودرو" type="text" required
                                                   name="faCarOneColor" #faCarOneColor="ngModel" [(ngModel)]="carOne.colorMultiLingual.map.fa"
                                                   tabindex="3" maxlength="20"/>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faCarOneColor.valid || faCarOneColor.untouched">
                                                    <div *ngIf="faCarOneColor.errors && faCarOneColor.errors.required">
                                                      درج رنگ خودرو ضروری است
                                                    </div>
                                                    <!--<div *ngIf="carOneColor.errors && carOneColor.errors.pattern">-->
                                                    <!--{{'validate-message.alphabet-pattern-required'|translate}}-->
                                                    <!--</div>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group filter-elements">
                                        <div class="col-lg-4">
                                            <label>{{'OMS.reserved-lot-no'|translate}}</label>
                                            <input class="" [placeholder]="'OMS.reserved-lot-no'|translate" type="text"
                                                   name="carOneLotNumber" #carOneLotNumber="ngModel"
                                                   [(ngModel)]="carOne.resLotNum"
                                                   tabindex="4" minlength="4" maxlength="4" pattern="[0-9]+"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carOneLotNumber.valid || carOneLotNumber.untouched">
                                                    <div *ngIf="carOneLotNumber.errors && carOneLotNumber.errors.required">
                                                        {{'validate-message.lot-no-required'|translate}}
                                                    </div>
                                                    <div *ngIf="carOneLotNumber.errors && carOneLotNumber.errors.minlength && !carOneLotNumber.errors.pattern">
                                                        {{'validate-message.min-length4'|translate}}
                                                    </div>
                                                    <div *ngIf="carOneLotNumber.errors && carOneLotNumber.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='gregorian'">
                                            <p><span class="staff-header">{{'OMS.reserve-expire-date' | translate}}</span></p>
                                            <div >
                                                <input (ngModelChange)="convertGregorianDateToUTCCar1(myCar1Date)" style="direction: ltr!important;font-family:tw-regular!important;" matInput name="pickedCar1Date" [(ngModel)]="pickedCar1Date" [matDatepicker]="myCar1Date" placeholder="{{car1Date}}"
                                                       required class="dob-field" readonly="true" style="direction: ltr!important;">
                                                <mat-datepicker-toggle [for]="myCar1Date"></mat-datepicker-toggle>
                                                <mat-datepicker #myCar1Date [startAt]="pickedCar1Date"></mat-datepicker>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='jalali'">
                                            <p><span class="staff-header">{{'OMS.reserve-expire-date' | translate}}</span></p>
                                            <div >
                                                <dp-date-picker   style="width: 100%;font-family: Yekan!important;height: 35px!important;font-size: 14px!important;"
                                                                  dir="rtl"
                                                                  [(ngModel)]="pickedCar1Date"
                                                                  mode="day"
                                                                  placeholder="تاریخ"
                                                                  theme="dp-material" (ngModelChange)="convertJalaliDateToUTCCar1(pickedCar1Date)" >
                                                </dp-date-picker>
                                            </div>
                                        </div>
                                        <div class="col-lg-4">
                                            <!-- <i style="margin-top: 20px;"  class="icon-rubbish-bin pull-right custom-icon-rubbish"></i> -->
                                            <span>
                                                 <button tabindex="6" *ngIf="appService.hasAccessToWrite(1,3)"
                                                         class="manage-btn department-btns pull-right mt-40"
                                                         (click)="removeVehicle(1)">{{'shared.delete'|translate}}</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row" style="margin-top:10px;">
                                <div class="col-lg-2 no-padding">
                                    <div class="vehicle-heading">{{'OMS.car-two'|translate}}</div>
                                </div>
                                <div class="col-lg-9 no-padding" *ngIf="!carTwoPresent">
                                    <i (click)="addVehicle(2)" class="add-vehicle glyphicon glyphicon-plus-sign"></i>
                                </div>
                                <div class="col-lg-9 vehicle-box" *ngIf="carTwoPresent">
                                    <div class="row form-group">
                                        <div class="col-lg-4">
                                            <label>{{'OMS.reserved-lot-no'|translate}}</label>
                                            <input class="" [placeholder]="'OMS.reserved-lot-no'|translate" type="text"
                                                   name="carOneLotNumber" #carOneLotNumber="ngModel"
                                                   [(ngModel)]="carOne.resLotNum"
                                                   tabindex="4" minlength="4" maxlength="4" pattern="[0-9]+"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carOneLotNumber.valid || carOneLotNumber.untouched">
                                                    <div *ngIf="carOneLotNumber.errors && carOneLotNumber.errors.required">
                                                        {{'validate-message.lot-no-required'|translate}}
                                                    </div>
                                                    <div *ngIf="carOneLotNumber.errors && carOneLotNumber.errors.minlength && !carOneLotNumber.errors.pattern">
                                                        {{'validate-message.min-length4'|translate}}
                                                    </div>
                                                    <div *ngIf="carOneLotNumber.errors && carOneLotNumber.errors.pattern">
                                                        {{'validate-message.only-digits-allowed'|translate}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">BRAND</label>
                                            <input class="" placeholder="BRAND" type="text" required style="direction: ltr!important;font-family: tw-regular!important;"
                                                   name="carTwoBrand" #carTwoBrand="ngModel" [(ngModel)]="carTwo.brandMultiLingual.map.en"
                                                   tabindex="2" maxlength="30"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carTwoBrand.valid || carTwoBrand.untouched">
                                                    <div *ngIf="carTwoBrand.errors && carTwoBrand.errors.required">
                                                        BRAND IS REQUIRED
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="direction: ltr!important;font-family: tw-regular!important;">COLOR</label>
                                            <input class="" placeholder="COLOR" type="text" required style="direction: ltr!important;font-family: tw-regular!important;"
                                                   name="carTwoColor" #carTwoColor="ngModel" [(ngModel)]="carOne.colorMultiLingual.map.en"
                                                   tabindex="3" maxlength="20"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carTwoColor.valid || carTwoColor.untouched">
                                                    <div *ngIf="carTwoColor.errors && carTwoColor.errors.required">
                                                        COLOR IS REQUIRED
                                                    </div>
                                                    <!--<div *ngIf="carOneColor.errors && carOneColor.errors.pattern">-->
                                                    <!--{{'validate-message.alphabet-pattern-required'|translate}}-->
                                                    <!--</div>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-lg-4 form-group filter-elements">

                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="font-family: Yekan!important;float: right">نوع خودرو</label>
                                            <input style="font-family: Yekan!important;direction: rtl" class="" placeholder="نوع خودرو" type="text" required
                                                   name="faCarTwoBrand" #faCarTwoBrand="ngModel" [(ngModel)]="carTwo.brandMultiLingual.map.fa"
                                                   tabindex="2" maxlength="30"/>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faCarTwoBrand.valid || faCarTwoBrand.untouched">
                                                    <div *ngIf="faCarTwoBrand.errors && faCarTwoBrand.errors.required">
                                                        درج نوع خودرو ضروری است
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 form-group filter-elements">
                                            <label style="font-family: Yekan!important;float: right">رنگ خودرو</label>
                                            <input style="font-family: Yekan!important;direction: rtl" class="" placeholder="رنگ خودرو" type="text" required
                                                   name="faCarTwoColor" #faCarTwoColor="ngModel" [(ngModel)]="carTwo.colorMultiLingual.map.fa"
                                                   tabindex="3" maxlength="20"/>
                                            <div class="error-message-display" style="font-family: Yekan!important;float: right">
                                                <div [hidden]="faCarTwoColor.valid || faCarTwoColor.untouched">
                                                    <div *ngIf="faCarTwoColor.errors && faCarTwoColor.errors.required">
                                                        درج رنگ خودرو ضروری است
                                                    </div>
                                                    <!--<div *ngIf="carOneColor.errors && carOneColor.errors.pattern">-->
                                                    <!--{{'validate-message.alphabet-pattern-required'|translate}}-->
                                                    <!--</div>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        <div class="col-lg-4 filter-elements">
                                            <label>{{'OMS.reserved-lot-no'|translate}}</label>
                                            <input class="" [placeholder]="'OMS.reserved-lot-no'|translate" type="text"
                                                   name="carTwoLotNumber" #carTwoLotNumber="ngModel"
                                                   [(ngModel)]="carTwo.resLotNum"
                                                   tabindex="10" minlength="4" maxlength="4"/>
                                            <div class="error-message-display">
                                                <div [hidden]="carTwoLotNumber.valid || carTwoLotNumber.untouched">
                                                    <div *ngIf="carTwoLotNumber.errors && carTwoLotNumber.errors.required">
                                                        {{'validate-message.lot-no-required'|translate}}
                                                    </div>
                                                    <div *ngIf="carTwoLotNumber.errors && carTwoLotNumber.errors.minlength">
                                                        {{'validate-message.min-length4'|translate}}
                                                    </div>
                                                    <!--<div *ngIf="carTwoLotNumber.errors && carTwoLotNumber.errors.pattern">-->
                                                    <!--{{'validate-alphabet-pattern-required'|translate}}-->
                                                    <!--</div>-->
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-4 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='gregorian'">
                                            <p><span class="staff-header">{{'OMS.reserve-expire-date' | translate}}</span></p>
                                            <div >
                                                <input (ngModelChange)="convertGregorianDateToUTCCar2(myCar2Date)" style="direction: ltr!important;font-family:tw-regular!important;" matInput name="pickedCar2Date" [(ngModel)]="pickedCar2Date" [matDatepicker]="myCar2Date" placeholder="{{car2Date}}"
                                                       required class="dob-field" readonly="true" style="direction: ltr!important;">
                                                <mat-datepicker-toggle [for]="myCar2Date"></mat-datepicker-toggle>
                                                <mat-datepicker #myCar2Date [startAt]="pickedCar2Date"  ></mat-datepicker>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 input1 filter-elements-cal" *ngIf="appService.currentCalendar=='jalali'">
                                            <p><span class="staff-header">{{'OMS.reserve-expire-date' | translate}}</span></p>
                                            <div >
                                                <dp-date-picker   style="width: 100%;font-family: Yekan!important;height: 35px!important;font-size: 14px!important;"
                                                                  dir="rtl"
                                                                  [(ngModel)]="pickedCar2Date"
                                                                  mode="day"
                                                                  placeholder="تاریخ"
                                                                  theme="dp-material" (ngModelChange)="convertJalaliDateToUTCCar1(pickedCar2Date)" >
                                                </dp-date-picker>
                                            </div>
                                        </div>


                                        <div class="col-lg-4">
                                            <!-- <i style="margin-top: 20px;"  class="icon-rubbish-bin pull-right custom-icon-rubbish"></i> -->
                                            <span>
                                                  <button tabindex="12" *ngIf="appService.hasAccessToWrite(1,3)"
                                                          class="manage-btn department-btns mt-40 pull-right"
                                                          (click)="removeVehicle(2)">{{'shared.delete'|translate}}</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="executingStaffCreation" class="executing-class">
                            <h2>{{'OMS.executing'|translate}}</h2>
                        </div>
                        <div *ngIf="!executingStaffCreation" class="form-footer col-lg-12 extra-padding">
                            <div class="col-lg-offset-10 col-lg-2 btns-div">
                                <button *ngIf="message != 'edit' && appService.hasAccessToWrite(1,3)"
                                        class="form-button-submit execute-btn exe-sm exe-block" type="submit"
                                        (click)="startCreatingStaff()"
                                >{{'shared.execute'|translate}}
                                </button>
                                <button *ngIf="message != 'edit'" class="form-back-button execute-btn exe-sm exe-block"
                                        type="button" [hidden]="step === 1"
                                        (click)="goToPage('back')">{{'OMS.back'|translate}}
                                </button>
                                <button *ngIf="message == 'edit' && appService.hasAccessToWrite(1,3)" class="form-next-button execute-btn exe-sm exe-block"
                                        type="button" (click)="updateStepFour(carOne, carTwo)"
                                >{{'shared.execute'|translate}}
                                </button>
                                <button class="form-button-cancel execute-btn exe-sm exe-block" type="button"
                                        (click)="closeModal()">{{'shared.cancel'|translate}}
                                </button>
                            </div>
                            <div class="clear"></div>
                        </div>
                </section>
            </div>
        </div>
    </div>
</div>
<!--  -->